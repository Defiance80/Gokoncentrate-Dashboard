.flatpicker-shadow-none {
  & + .flatpickr-calendar.inline {
    margin: auto;
    box-shadow: none;
  }
}

.flatpickr-wrapper {
  display: block;
}

.flatpickr-calendar {
  background: var(--bs-gray-900) !important;
  box-shadow: var(--bs-box-shadow);
  font-size: 16px;

  .flatpickr-innerContainer {
    .flatpickr-rContainer {
      .flatpickr-weekdays {
        .flatpickr-weekdaycontainer {
          .flatpickr-weekday {
            color: var(--bs-body-color);
          }
        }
      }
    }
  }

  .flatpickr-months {
    .flatpickr-prev-month,
    .flatpickr-next-month {
      color: var(--bs-heading-color);
      fill: var(--bs-heading-color);

      &:hover svg {
        fill: var(--bs-heading-color);
      }
    }

    .flatpickr-month {
      color: var(--bs-body-color);
      fill: var(--bs-body-color);
    }
  }
}

.flatpickr-day {
  width: 100% !important;
  margin: auto !important;
  color: var(--bs-heading-color);

  &.inRange {
    background: var(--bs-gray-100);
    border-color: var(--bs-gray-100);
    color: var(--bs-heading-color);
    box-shadow: -5px 0 0 var(--bs-border-color), 5px 0 0 var(--bs-border-color);
  }

  &.startRange,
  &.endRange,
  &.selected {
    background: var(--#{$variable-prefix}primary);
    border-color: var(--#{$variable-prefix}primary);
    color: var(--bs-white);
  }

  &:hover,
  &:focus,
  &.today.inRange {
    border-color: var(--bs-gray-900);
    background: var(--bs-gray-900);
    color: var(--bs-body-color);
  }

  &.nextMonthDay {
    color: var(--bs-body-color);

    &:hover,
    &:focus {
      border-color: var(--bs-gray-900);
      background: var(--bs-gray-900);
      color: var(--bs-body-color);
    }
  }

  &.flatpickr-disabled {
    color: var(--bs-body-color);
    opacity: .4;
  }
}

.flatpickr-current-month {
  .flatpickr-monthDropdown-months {
    color: var(--bs-heading-color);

    .flatpickr-monthDropdown-month {
      background-color: var(--bs-body-bg);
    }
  }
}

.flatpickr-time {
  input,
  .flatpickr-am-pm {
    color: var(--bs-heading-color);

    &:hover,
    &:focus {
      background-color: var(--#{$variable-prefix}body-bg);
      color: var(--bs-body-color);
    }
  }

  .flatpickr-time-separator {
    color: var(--bs-heading-color);
  }
}

.course-picker {
  .flatpickr-calendar {
    width: 100%;
    box-shadow: none;
  }

  .flatpickr-innerContainer {
    justify-content: center;

    .flatpickr-days {
      width: 100%;

      .dayContainer {
        width: 100%;
        max-width: 100%;
        display: grid;
        grid-template-columns: repeat(7, minmax(0, 1fr));
      }
    }
  }

  .flatpickr-months {
    .flatpickr-current-month {
      padding-top: 0;
      display: flex;
      align-items: center;
      justify-content: center;

      .flatpickr-monthDropdown-months {
        color: var(--bs-heading-color);
      }
    }

    .flatpickr-next-month,
    .flatpickr-prev-month {
      padding: 0 0.5rem;
      color: var(--#{$variable-prefix}primary) !important;
      fill: var(--#{$variable-prefix}primary) !important;
      display: flex;
      align-items: center;

      svg {
        width: 24px;
        height: 24px;
        border: 1px solid;
        padding: 6px;
        border-radius: 50rem;
      }

      &.flatpickr-disabled {
        display: none;
      }

      &:hover svg {
        fill: var(--#{$variable-prefix}primary) !important;
      }
    }
  }
}

.flatpickr-day.selected, .flatpickr-day.startRange, .flatpickr-day.endRange, .flatpickr-day.selected.inRange, .flatpickr-day.startRange.inRange, .flatpickr-day.endRange.inRange, .flatpickr-day.selected:focus, .flatpickr-day.startRange:focus, .flatpickr-day.endRange:focus, .flatpickr-day.selected:hover, .flatpickr-day.startRange:hover, .flatpickr-day.endRange:hover, .flatpickr-day.selected.prevMonthDay, .flatpickr-day.startRange.prevMonthDay, .flatpickr-day.endRange.prevMonthDay, .flatpickr-day.selected.nextMonthDay, .flatpickr-day.startRange.nextMonthDay, .flatpickr-day.endRange.nextMonthDay{
  background: var(--#{$variable-prefix}primary);
  border-color: var(--#{$variable-prefix}primary);
  color: var(--bs-white);

  &:hover,
  &:focus {
    background: var(--#{$variable-prefix}primary);
    border-color: var(--#{$variable-prefix}primary);
    color: var(--bs-white);
  }
}

.flatpickr-day.today {
  border-color: var(--#{$variable-prefix}border-color);
}
.flatpickr-day.today:hover, .flatpickr-day.today:focus {
  background-color: var(--#{$variable-prefix}gray-900);
  border-color: var(--#{$variable-prefix}border-color);
  color: var(--#{$variable-prefix}heading-color);
}

.flatpickr-day.prevMonthDay,
.flatpickr-day.nextMonthDay,
.flatpickr-day.notAllowed,
.flatpickr-day.notAllowed.prevMonthDay,
.flatpickr-day.notAllowed.nextMonthDay {
  color: var(--bs-body-color);
  opacity: .7;
}

.flatpickr-day.inRange, .flatpickr-day.prevMonthDay.inRange, .flatpickr-day.nextMonthDay.inRange, .flatpickr-day.today.inRange, .flatpickr-day.prevMonthDay.today.inRange, .flatpickr-day.nextMonthDay.today.inRange, .flatpickr-day:hover, .flatpickr-day.prevMonthDay:hover, .flatpickr-day.nextMonthDay:hover, .flatpickr-day:focus, .flatpickr-day.prevMonthDay:focus, .flatpickr-day.nextMonthDay:focus {
  border-color: var(--#{$variable-prefix}border-color);
  background: var(--#{$variable-prefix}body-bg);
  color: var(--#{$variable-prefix}heading-color);
}
